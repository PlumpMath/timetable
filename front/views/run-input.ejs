<!DOCTYPE html>
<html lang="ko">
  <%- include head.ejs %>
  <script>var id='<%=id%>'</script>
  <body>
    <%- include nav.ejs %>
    <div id="content" class="container">
      <div class="container">
        <div class="row row-menu">
          <button type="button" class="btn btn-primary btn-list" onclick="location.href='/run-detail/<%=id%>'">< 돌아가기</button>
        </div>
        <div class="row">
            <h1><%=title%></h1>
        </div>
        <p></p>
        <div class="row">
            <h3>수업</h3>
        </div>
        <div class="row">
            <%
            classPerDay=12
            function dayStringKor(num) {
                switch(Math.floor(num/classPerDay)) {
                    case 0:
                        return '월';
                    case 1:
                        return '화';
                    case 2:
                        return '수';
                    case 3:
                        return '목';
                    case 4:
                        return '금';
                }
            }
            %>
            <%for(var key of Object.keys(input['subjects'])) {%>
                <table class="table" id="c<%=input['subjects'][key]['id']%>">
                    <thead>
                        <tr>
                            <th><%=input['subjects'][key]["name"]%></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th style="width: 20%" scope="row">ID</th>
                            <td><%=input['subjects'][key]['id']%></td>
                        </tr>
                        <tr>
                            <th style="width: 20%" scope="row">수업 길이</th>
                            <td><%=input['subjects'][key]['len']%></td>
                        </tr>
                        <tr>
                            <th style="width: 20%" scope="row">가능 시간</th>
                            <td>
                                <%for(time of input['subjects'][key]['timeConstraints']) {%>
                                    <%=dayStringKor(time[0])%> <%=time[0]%12+1%>~<%=time[1]%12+1%>교시 
                                <%}%>
                            </td>
                        </tr>
                    </tbody>
                </table>
            <%}%>
        </div>
        <p></p>
        <div class="row">
            <h3>학생</h3>
        </div>
        <div class="row">
            <%for(var key of Object.keys(input['people'])) {%>
                <table class="table">
                    <thead>
                        <tr>
                            <th><%=input['people'][key]["name"]%></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th style="width: 20%" scope="row">수강 과목</th>
                            <td>
                                <%for(var cl of input['people'][key]['classes']) {%>
                                    <a href="#c<%=cl%>"><%=input['subjects'][cl]["name"]%></a>&nbsp;
                                <%}%>
                            </td>
                        </tr>
                    </tbody>
                </table>
            <%}%>
        </div>
        <p></p>
      </div>
    </div>
    <script src="/static/js/input-detail.js"></script>
    <%- include tail.ejs %>
  </body>
</html>
